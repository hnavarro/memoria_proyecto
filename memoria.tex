\section{Introducción}
El trabajo expuesto en este documento tiene como fin la implantación de un museo virtual en el Observatorio de Madrid. La parte más importante en este tipo de proyectos (y, por extensión, de todos) es la recogida de requisitos y el análisis (en este caso, elección principalmente).
Para poder entender mejor lo que se solicita por parte del cliente es necesario conocer el concepto de ``museo virtual'' al que tratamos de acercarnos. Se trataría de una plataforma accesible físicamente desde puestos instalados en una sala de exposiciones dentro del propio observatorio, accesible en línea desde Internet y que comprenda una base de datos posiblemente reutilizable en el futuro. Con estas pinceladas he deducido que la solución existente (no hay que olvidar que esto es ingeniería) más cercana a lo que se nos pide pasaría, en mi opinión, por un gestor de contenidos o CMS (Content Management System).
Dada la amplísima oferta que hay de estos productos en el mercado, creo conveniente hacer una selección a partir de criterios, unos surgidos y otros sugeridos, analizados mano a mano con el cliente.
A partir de ahí, se escogerá el CMS candidato con mejores cualidades en cuanto a facilidad de uso, bajo mantenimiento y características incluidas por defecto. Las características no comprendidas en esta selección (pero necesarias igualmente) serán incorporadas junto con las diferentes modificaciones previstas para darle forma final a la plataforma. Posteriormente, se integrará y se pondrá en servicio con los plazos que el cliente disponga para ello.

\section{Base teórica}
Al tratarse de un proyecto tan práctico, la base teórica del mismo no tiene un gran misterio. Se trata de realizar el clásico enfoque de presentar distintas aplicaciones al cliente cumpliendo unos requerimientos mínimos y adaptando e integrando la solución escogida para que encaje con el sistema solicitado.

En esta ocasión, presentaremos varios subapartados según las distintas fases del proyecto.

\subsection{Estado del Arte}
\par Para elaborar este proyecto pensé que lo más sensato era, una vez acotado el problema, tratar de echar un vistazo a cómo estaban las cosas en la actualidad en otros museos. Considero importante saber en qué estado se encuentran tanto el círculo de los CMS, wikis, museos y catálogos informatizados.
En este periplo, he topado con varias fuentes de información desconocidas para mí, algunas ideas sacadas de museos visitados en persona y una exhaustiva (aunque difícil de discernir) cantidad de datos sobre gestores de contenido.

\subsubsection{¿Qué puede ser un museo virtual?}
\par Al hablar de museos virtuales, a uno se le pueden venir a la mente distintos conceptos sobre lo que representan esas palabras:

\begin{itemize}
\item Visita virtual al museo (modo ``Second Life").
\item Galería de imágenes.
\item Sitio web del museo (meramente informativo).
\item Catálogo de objetos.
\item Ampliación de lo expuesto en el museo.
\end{itemize}

\par En el primer caso, nos referimos a esa idea de recrear a través de gráficos en 3D la experiencia de una visita real al museo. Esta solución es muy poco usada debido a lo costoso de la misma. Además de modelar infográficamente la arquitectura del museo y construir una aplicación que utilice un potente motor gráfico para sostenerla, hay que tener en cuenta el gran tráfico generado para que esto funcione adecuadamente. En mi opinión, dado que difícilmente se puede reemplazar la experiencia de visitar el museo en persona, creo que no compensa tanto despliegue de medios ya que no contribuye (al menos en el caso expuesto) sensiblemente al objetivo marcado.

\par El segundo caso, una mera galería de imágenes, aunque pobre, podría vale como museo virtual para un museo de arte en según qué circunstancias. Obviamente, y aunque la presentación de la información en este formato sea algo a tener en cuenta, si limitáramos nuestro museo virtual a este tipo de sitio, estaríamos, creo yo, limitando muchísimo la información ofrecida, cosa que no cuadra con el objetivo de complementar el museo.

\par El tercer caso lo he incluido como posibilidad de que alguien lo identificase al hablar de ``museos virtuales", dado que crear una página con información corporativa, de horarios y accesos es sólo una parte de lo que pretendería este proyecto.

\par El cuarto caso será aquel en el que básicamente tenemos una somera base de datos con una sencilla interfaz de búsqueda y acceso a la colección, sin tratar de explicar o poner en contexto los objetos que tenemos delante.

\par El quinto caso es el que nos ocupa, siendo el cometido del mismo complementar la exposición física, permitiendo a los visitantes (y no visitantes) conseguir un trasfondo y una explicación más completa de los objetos y su contexto para contribuir a la divulgación de un conocimiento relacionado con lo expuesto. Obviamente incluirá parte de galería de imágenes en cuanto a interfaz, información de típico sitio web como caso anecdótico de contenido, componentes que mejoren la interactividad sin sacrificar el desempeño y el coste y datos concretos sobre los objetos como manera de acceder a la base de datos.

\subsubsection{Museos}

\par Aprendiendo de museos conocidos, podemos poner ejemplos prácticos de los que sacar ideas o matices que el cliente pueda identificar como deseables. Está claro que sería imposible abarcar todos o siquiera la mayoría de los museos del mundo, ni siquiera los más importantes (¿quién decide esa lista?), pero sin embargo sí se pueden incluir ideas que hayamos rescatado de otras implementaciones satisfactorias.
Algunos ejemplos son:

\paragraph{Tate Modern (Londres, Reino Unido)}
\par Pude comprobar en directo algunas de las ideas puestas en práctica por esta entidad gracias a un viaje reciente. Allí pude ver buenas ideas como el acercamiento de los contenidos de las salas al gran público (en especial, a niños) a base de actividades interactivas que introducían con naturalidad y entretenimiento conceptos difíciles de asimilar de otra manera. Sin duda es una buena idea, aunque no se encuadra en este proyecto, podría ser considerada para futuros trabajos.
\par Más concretamente, en materia de museos virtuales, vi la adopción de terminales de mano que complementan la experiencia del visitante físico. Estamos acostumbrados a ver las típicas guías locutadas en diversos idiomas que nos amplían el contenido de las exposiciones introduciendo un número del índice de grabaciones. Suelen ser aparatos con usos muy restringidos (especiales para museos) con lo que eso supone para el coste final para el museo. En cambio, en este caso, se trataba de dispositivos móviles que están en el mercado, en nuestro caso, una especie de PDA de marca Toshiba o Dell (según renovaciones) similares a los que se muestran en la figura~\ref{fig:tatehandheld}. Son dispositivos básicos que permiten mostrar contenidos web y multimedia sin muchas complicaciones. Esto es: pantalla en color, interfaz intuitiva, salida de auriculares y conectividad inalámbrica. Este último punto permite renovar sin coste temporal importante (y de manera transparente al visitante) los contenidos presentados. El hecho de que sea un dispositivo común abarataría los costes, permitiendo, incluso, trabajar con tecnología no necesariamente de última generación, dada la baja exigencia de los contenidos a presentar. Parece evidente que será más fácil conseguir un buen precio por una buena cantidad de dispositivos a punto de ser retirados del mercado o simplemente de stock sobrante.
Debajo de todo esto subyace la idea de utilizar unos estándares mínimos, aunque sean estándares de facto. Esto nos permitiría (como en el caso del Tate Modern) reemplazar los dispositivos por otros nuevos sin hacer cambios significativos en la plataforma y haciendo que coexistiesen ambos modelos. Y lo que es, quizá, más interesante, dar la opción a usuarios que posean dispositivos con capacidades similares a los ofrecidos de conectarse al museo virtual por su cuenta y en directo, ahorrando bastante en costes.

\begin{figure}
\centering
\includegraphics{tatehandheld}
\caption{Imagen de dispositivo de mano del Tate Modern\cite{references:tatehandheld}}
\label{fig:tatehandheld}
\end{figure}



\paragraph{MoMA (New York, EEUU)}
\par Este apartado, desgraciadamente, se refiere a las ideas y modelos observados directamente en su página web. Nos encontramos con ideas, sobre todo en cuanto a presentación visual de contenidos. Digamos que la idea de presentar los contenidos en una matriz de imágenes con pies identificativos que, al pulsar sobre ellas, nos lleven a la información específica de ese objeto podría ser cercana a lo buscado. También sería una idea a tener en cuenta la categorización de las obras por área temática, época o tipo de objeto, aunque no lo firmamos como algo seguro en nuestra plataforma. Por último, reseñar que ellos parece que hacen (o al menos tienen la posibilidad de hacer) uso de la vista ``por perspectivas". Esto sería como tener una lista desplegable en la pantalla que nos permitiera fácilmente cambiar entre los distintos puntos de vista (como si de idiomas se tratara) pudiendo adaptar la plataforma a una presentación para , por ejemplo, niños, estudiantes o expertos en el tema. El sistema finalmente escogido para implementar esa ``granularidad'' de contenidos se tomó de otro sitio web que veremos más adelante. Se puede observar una captura que muestra una idea de lo que sería una ficha de objeto en la figura~\ref{fig:capturamoma}

\fig{capturamoma}{Captura de pantalla del sitio del MoMA}



\paragraph{Actual museo del OAN}
\par Existe una versión antigua del museo virtual del Observatorio Astronómico Nacional, cuya información será contenida presumiblemente cuando se complete el contenido de la plataforma objeto de este proyecto. Si entramos al sitio web que lo hospeda dentro del sitio del Instituto Geográfico Nacional (Ministerio de fomento) descubrimos una estructura de navegación con algunas deficiencias para movernos entre objetos, para dar un vistazo rápido y desde luego una descontextualización importante. Podríamos catalogarlo como uno de esos museos virtuales del caso cuarto, un catálogo de objetos, como podemos apreciar en la figura~\ref{fig:capturamvoan}. No se puede negar su utilidad pero son las funciones de las que carece las que hacen necesaria la creación del proyecto actual.

\fig{capturamvoan}{Captura de pantalla del museo virtual del OAN}

\subsubsection{Enciclopedias}

\par Como parte de la gestión del conocimiento, además de las webs de los propios museos, he indagado en otras webs que se dedican a funciones parecidas (no olvidemos que el museo al que se refiere este trabajo dista de ser un museo de arte) a lo que queremos conseguir en cuanto a organización del conocimiento.

\paragraph{Wikipedia}
\par Digamos que este sería el paradigma de enciclopedia dinámica y colaborativa hoy en día. Es más o menos familiar para cualquier persona que use con asiduidad internet (sobre todo para buscar información) y aunque sus fuentes, consistencia y fiabilidad puedan ser cuestionables, su manera de disponer la información no puede tomarse en absoluto como mala. De aquí podríamos tomar en consideración el aspecto colaborativo del medio, pero en reuniones con el cliente se convino que al ser una institución de referencia, los contenidos (aunque aportados por diferentes personas) debían ser acotados a unos poco usuarios (generalmente trabajadores) y moderados en última instancia por la figura de un editor que revisaría y daría el visto bueno a los mismos.
La disposición de portal inicial ofrecida por este sitio es una idea que podría funcionar en nuestro caso, incluyendo esos pequeños ``ganchos'' que cambian diaria o aleatoriamente para que determinados artículos puedan ser descubiertos por un navegante no asiduo. Además, mantiene una división temática necesaria para el sitio y tiene un sistema de control de versiones válido para documentos escritos, así como la relación semántica de entradas y la inclusión de contenido multimedia fácilmente.
Referido al punto anterior, hay que señalar que, en un principio, se ha optado por la manera de Wikipedia de ampliar la profundidad de un artículo: en vez de diseñar distintas capas para distintos individuos, enlazar los artículos que profundizan sobre un tema para que sea el usuario el que decida cuándo parar.


\paragraph{Indianopedia, Frikipedia, *pedia}
\par Esta entrada engloba varios sitios por una razón: existe un fenómeno creciente que consiste en que cada ``ecosistema'' de conocimiento puede generar su propio repositorio de información. Esto contribuye a diversificar las fuentes evitando fraudes y manipulaciones, a la vez que descentraliza y permite pluralidad de visiones. Igual que existen el diccionario de la RAE, María Moliner, Espasa Calpe, etc., el concepto de la propia enciclopedia, en nuestro caso, puede servir para contener los artículos a los que no llegan otras enciclopedias más generales o de los que tenemos un conocimiento certero y fuentes propias.

\subsubsection{Sistemas gestores de contenidos vs Wikis}
\par Llegados a este punto parece evidente el camino que estamos sugiriendo. Para crear nuestra plataforma y que tenga algunos factores básicos como diferentes presentaciones al usuario (al menos internet y móviles), incluya una base de datos, interfaz amigable para creadores de contenido no informáticos y demás funciones de administrador facilitadas al máximo.

En un principio se tuvo la tentación de basar toda la plataforma en un mero wiki (La base de datos más simple del mundo) pero se vio que las características más destacables de un wiki nos sobraban salvo la facilidad de edición y de uso, que se puede apreciar también en los CMS más comunes. Además, claro está, si nos ciñéramos a un simple wiki estaríamos renunciando a una serie de herramientas útiles que ya se integran en los CMS con naturalidad.

De la toma de decisiones sobre la elección de plataforma base hablaré en la sección de diseño.


\section{Descripción del diseño}

\subsection{Baremación de alternativas}
\par Llegados a este punto, nuestro proyecto tiene que empezar a definirse y descartar unas alternativas de otras. Hasta la fecha, recapitulando, hemos puesto encima de la mesa la necesidad de un gestor de contenidos con o sin componente wiki. A este esqueleto inicial habría que añadirle una serie de características y su grado de importancia (donde 0 es prescindible y 5 es imprescindible). Este grado de importancia ha sido recogido en entrevista directa con responsables de la supervisión del proyecto y se muestra en el cuadro \ref{tab:caracteristicas}.

\begin{table}[h]
\begin{center}
\begin{tabular}{l @{\hspace{10px}} r}
Característica & Nota \\
\hline \\
Interfaz de creador en español & 4 \\
Interfaz de usuario en múltiples idiomas & 5 \\
Varias perspectivas diferenciadas & 1 \\
Web semántica & 0 \\
Uso de estándares & 0 \\
Editor WYSIWYG & 5 \\
Soporte comercial & 1 \\
Comunidad de desarrolladores / soporte & 4 \\
Actualizaciones recientes & 1 \\
Entorno colaborativo & 3 \\
Buzón de sugerencia / Preguntas frecuentes & 0 \\
Página de control de cambios / CVS & 5 \\
Licencia libre & 5 \\
Base de datos & 3 \\
Sistema de ficheros (en contraposición a BD) & 0 \\
Posibilidad de exportar a pdf/LaTeX & 1 \\
Versión para plataformas móviles & 4 \\
Blog & 0 \\
\end{tabular}
\end{center}
\caption{Cuadro resumen de la ponderación de características}
\label{tab:caracteristicas}
\end{table}


\subsubsection{Comentarios}

\par La cuestión sobre las perspectivas diferenciadas se ha decidido plantear a la manera de Wikipedia, es decir, a base de enlaces con contenido más exhaustivo en vez de un selector de perspectiva que nos dejase ``ponernos las gafas'' de ``estudiante", ``visitante'' o ``investigador'' con un botón, al menos, en esta fase del proyecto.

\par Aun no habiendo resuelto temas importantes como si la figura del ``responsable de mantenimiento'' de la aplicación existirá y quién se encargaría de ella, en la misma reunión se esbozó la idea de que existiría una fase inicial de carga con un principio y un final y una fase de mantenimiento en la que se harán cambios pero a menor ritmo. Todas ellas irán recubiertas de la figura del supervisor, que se encargará de aprobar o rechazar los cambios u añadidos propuestos por los generadores de contenido antes de que éstos se reflejen en la producción final.

\par En contrapartida a las ideas de blog y buzón de sugerencias, se propondrá (con mayor o menor grado de insistencia) al usuario realizar una encuesta evaluación con su propio espacio para sugerencias.

\par El tema de uso de estándares y web semántica, si bien es un objetivo deseable, no debe obstaculizar el resto de ellos, se asume de la última reunión.

\par Por último, y para que la base de datos creada pueda ser fácilmente usada por otros proyectos, se ha optado por buscar una solución orientada a bases de datos y no a sistemas de ficheros como modo de almacenamiento. Esto descartará unas cuantas opciones.

\subsection{Comparativa}

\par Habiendo descartado o relativizado la importancia de algunos de los requerimientos iniciales para nuestro gestor de contenidos, vamos a tratar de hacer una propuesta inicial. Para ello, vamos a utilizar herramientas gratuitas en línea que presentan los datos como una matriz de características (CMSMatrix.org y CMSMatch.com), aunque sólo se presentan en este documento las relativas a la primera, puesto que la segunda carecía de un montón de datos relevantes.

\subsubsection{Premisas iniciales}
\par Las premisas iniciales para los CMS (y las que más descartan) son:

\begin{itemize}
\item Más populares y mejor puntuados. De esta manera potencialmente hallaremos estabilidad y una comunidad de soporte activa. Para ello, echaremos un vistazo a las estadísticas disponibles en la red sobre CMS más utilizados, mejor puntuados y más premiados, tratando de sopesar adecuadamente cada fuente.
\item Editor visual (WYSIWYG Editor / Drag'n'Drop interface).
\item Con capacidad para gestionar la plataforma en varios idiomas (Internationalization = Multilingual Content / Multilingual Content Integration / Web-based Translation Management).
\item Página de cambios (Versioning / Asset Management=Media Library)
\item Coste cero.
\item Licencia OpenSource.
\item Comunidad de desarrolladores (Developer Community).
\item Interfaz en español (Interface Localization).
\item Versión para móviles (Mobile Internet).
\end{itemize}

\subsubsection{Candidatos pre-seleccionados}
\par Primeros elegidos por su demostrada utilización, premios, etc:

\begin{enumerate}
\item dotCMS
\item Drupal
\item Joomla!
\item LifeRay Portal
\item MODx
\item mojoPortal
\item Moodle
\item Plone
\item SilverStripe
\item WordPress
\end{enumerate}

\par El primer problema que encontramos es que estos sistemas que hemos elegido para comparar los diferentes CMS no nos dejan saber qué idiomas tiene la interfaz de usuario, así que ha que hacer una pequeña investigación entrando en las páginas web de cada uno de los sitios. Tras esto, sabremos que, al menos en cuanto a la interfaz de administración, todas las plataformas preseleccionadas pueden ejecutarse en español.


\par A continuación, pasamos a desgranar las secciones más interesantes de la comparativa reseñada:

\subsubsection{Comparativa con CMSMatrix}

\par En esta ocasión, vamos a ir comparando las características más reseñables de cada producto, por bloques, según está organizado en el servicio consultado.

\paragraph{System Requirements (Requisitos de sistema)}

\par Vamos a ir analizando lo que se ve en la figura~\ref{fig:cmsmat1}:

\fig{cmsmat1}{``System Requirements'' desde CMSMatrix.org}

\par En este caso, debemos fijarnos en la parte ``License'' principalmente, comprobando que todos menos Liferay Portal ostentan una licencia libre. Posteriormente he podido comprobar que la licencia de Liferay Portal cambió de licencia MIT a LGPL a partir de la versión 6\cite{references:liferaylicense}, así que, a falta de argumentación en contra sobre los pormenores de cada licencia, todos entrarían dentro del requisito principal.

\par Hay que comentar que una de las guías sugeridas por la empresa era que, de ser posible, la plataforma fuese familiar con lo que ya se conoce en la casa por parte de los trabajadores fijos. En este caso, las cosas irían si no ya por la plataforma en sí, por el lenguaje de programación el que están programados, siendo estos Java, PHP, Phyton y C Sharp los que ocupan nuestra comparativa.

\paragraph{Security (Seguridad)}

\par Según el gráfico de la figura~\ref{fig:cmsmat2}, los datos que más nos interesan son ``Content Approval'' (aprobar contenidos antes de publicación), ``Granular Privileges'' (posibilidad de tener distintos privilegios para cada usuario o grupo de usuarios), ``Versioning'' (control de versiones).

\par La única opción con inconvenientes en este campo sería Joomla!, que según cmsmatrix no permite la asignación de privilegios personalizada, señalando que MODx en supervisión de contenidos y control de versiones necesitaría un añadido gratuito, al igual que Joomla! para este último caso.

\fig{cmsmat2}{``Security'' desde CMSMatrix.org}

\paragraph{Support (Asistencia)}

\par Esta es una de las partes menos importantes de la comparativa, pues es incierto el futuro en cuestión de mantenimiento de la plataforma. En este caso nos estaríamos fijando más en ``Commercial Support'' (asistencia de pago), ``Developer Community'' (comunidad de desarrolladores) y ``Public Forum'' (foros públicos). Destacar únicamente que WordPress no dispone de ese servicio, aunque el servicio gratuito sí que exista. Para analizarla más en detalle, observar la figura~\ref{fig:cmsmat3}

\fig{cmsmat3}{``Support'' desde CMSMatrix.org}

\paragraph{Ease of Use (Facilidad de uso)}

\par Este es uno de los puntos más importantes de la comparativa. Si observamos en la figura~\ref{fig:cmsmat4}:

\fig{cmsmat4}{``Ease of Use'' desde CMSMatrix.org}

\par Encontraremos que, a destacar, podemos seleccionar como las más relevantes las opciones de ``Drag-N-Drop Content'' (arrastrar y soltar contenido), ``Image Resizing'' (redimensionado de imágenes), ``Mass Upload'' (subida de archivos masiva) y ``WYSIWYG Editor'' (editor visual).
\par De la primera característica, tenemos Joomla! que no la soporta, MODx con una implementación limitada y ``Drupal'' con un añadido para esa función. De la segunda, tendríamos que tanto ``mojoPortal'' como ``WordPress'' presentan esta función limitada y ``Drupal'' necesita, otra vez, añadidos. En cuanto a la subida de ficheros masiva, mojoPortal sería incapaz mientras que Drupal y WordPress necesitarían un add-on. El editor visual está presente en todas, aunque se nos avisa que Drupal necesita de un añadido también. Lo que nos hace pensar que Drupal está construido de forma modular ya que muchas de sus características se consiguen a través de módulos suplementarios. Esto puede tener consecuencias positivas en cuanto a agilidad, tamaño y complejidad y negativas en cuanto que el proceso inicial de puesta en marcha puede (aún no lo sabemos) ser más complicado que otros.



\paragraph{Performance (Rendimiento)}

\par Este apartado (fig.~\ref{fig:cmsmat5} no contiene aspectos demasiado relevantes para el proyecto que tenemos entre manos, pues no se espera que la carga de trabajo del servidor sea elevada como para preocuparse por estos detalles, aunque llegado el momento del desempate, podría declinar la balanza entre una opción y otra. Siendo tanto ``WordPress'' como ``Joomla!'' los más perjudicados.

\fig{cmsmat5}{``Performance'' desde CMSMatrix.org}


\paragraph{Management (Administración)}

\par La figura~\ref{fig:cmsmat6} presenta aspectos importantes para el administrador de la plataforma como: ``Online Administration'' (gestión en línea), ``Themes/Skins'' (temas gráficos), ``Web-based Style/Template Management'' (gestión de estilos y plantillas vía web) y ``Web-based Translation Management'' (gestión de traducciones vía web).

\fig{cmsmat6}{``Management'' desde CMSMatrix.org}

\par Las características que he citado primera y cuarta son, a mi juicio, fundamentales, ya que permiten la gestión de la plataforma virtualmente desde cualquier dispositivo que pueda mostrar páginas web. Las fallas más significativas son las de ``MODx'' y ``mojoPortal", que gracias a la falta de gestor de traducciones vía web quedarían, por ahora, descalificadas por completo. Hay que destacar que ``WordPress'' tiene limitaciones en esto y acumularía ya unas cuantas pegas que no lo hacen muy aconsejable.


\paragraph{Interoperability (Interoperatividad)}
\par Toda las características mostradas en la figura~\ref{fig:cmsmat7} tienen una importancia técnica alta, aunque su repercusión en el resultado visual final no sea grande. Quiero, en este apartado, analizarlas una por una para que se sepa de qué trata cada una.

\par Content Syndication (RSS) (sindicación de contenidos): Se trata de un sistema que permite a los usuarios estar al tanto de las nuevas publicaciones de una plataforma. Como en nuestro caso el contenido será mayoritariamente estático no es algo relevante.

\par FTP Support (soporte para transferencia de ficheros por FTP): FTP es un protocolo especialmente diseñado para la transferencia de ficheros, siendo, aunque ahora menos utilizado, un valor más. Su importancia es media.

\par UTF-8 Support (soporte para codificación UTF-8): Esta codificación es la que pretende ser universal para la inmensa mayoría de idiomas. Utilizarla es un paso adelante para la interoperatividad de aplicaciones, pero no es altamente relevante para el proyecto.

\par WAI Compliant (cumple con WAI): Web Accessibility Initiative (Iniciativa para la Accesibilidad Web) es una serie de reglas que buscan la accesibilidad de los contenidos para usuarios impedidos. Propone unos mínimos y puede ser interesante implementarlo, aunque no vital.

\par WebDAV Support (soporte para WebDAV): ``Edición y versionado distribuidos sobre la web'' es, en esencia, un protocolo que nos permite cambiar a distancia los contenidos de un servidor con cualquier aplicación que lo implemente (sin necesidad de una herramienta propia). No es imprescindible ni es el único modo.

\par XHTML Compliant (cumple con XHTML): XHTML es una especificación que trata de dar coherencia y acercar el lenguaje HTML a los estándares XML. Busca la ausencia de errores (se puede validar con facilidad) y la fiel reproducción de un contenido en distintos navegadores sin demasiadas diferencias. Es decir, busca establecer un estándar. Yo lo consideraría un mínimo exigible para cualquier plataforma web aunque en el futuro se de la posibilidad de cambiar a otros estándares como HTML5 (que aún no están implantados masivamente).


\fig{cmsmat7}{``Interoperability'' desde CMSMatrix.org''}



\paragraph{Flexibility (Flexibilidad)}


\par De esta sección, mostrada en la figura~\ref{fig:cmsmat8}, lo que más nos va a interesar es la ``Interface Localization'' (interfaz en el idioma deseado), la capacidad de presentar e integrar contenido en distintas lenguas, representado por ``Multilingual Content'' y ``Multilingual Content Integration". Tanto esta como las dos siguientes secciones, como se comprueba en el estilo austero, no son tan relevantes como las ya comentadas.

\fig{cmsmat8}{``Flexibility'' desde CMSMatrix.org}


\paragraph{Built-in Applications (Aplicaciones embebidas)}


\par En esta sección se presentan todas esas funcionalidades extras que podrían (o no) interesarnos a la hora de diseñar nuestra plataforma (figuras~\ref{fig:cmsmat9-1} y~\ref{fig:cmsmat9-2}).

\fig{cmsmat9-1}{``Built-in Applications'' (I) desde CMSMatrix.org}

\par Entre las presentes, me parecen reseñables las que tienen que ver con calendarios y eventos, manejo de enlaces, encuestas, manejo de documentos y galería de imágenes, entre otras, aunque, en general, no son demasiado importantes porque no sería difícil recrearlas.

\fig{cmsmat9-2}{``Built-in Applications'' (II) desde CMSMatrix.org}

\paragraph{Commerce (Comercio electrónico)}


\par Esta última figura (\ref{fig:cmsmatA}) se incluye casi a modo testimonial, dado que la parte comercial tanto del museo como, más generalmente, de todo el IGN, se concentra en otro departamento, fuera del alcance de este proyecto. En ella podemos ver distintas funcionalidades orientadas a la parte más comercial de la actividad: tienda, carrito, pasarela, etc.

\fig{cmsmatA}{``Commerce'' desde CMSMatrix.org}

\par Dicho todo esto, considero que Joomla! también debería ser apartado de los candidatos dada la falla en cuanto a XHTML. Los costes extra de dotCMS para algunas características me hacen pensar que la filosofía de ese proyecto no es tan cercana a nuestros objetivos como podría parecer, así que también los desaconsejaría.


\subsubsection{Propuesta preliminar}

% \begin{figure}[h!]
\begin{center}
\includegraphics{logolrp}
\includegraphics{logodrupal}
\includegraphics{logom}
\includegraphics{logoplone}
\end{center}
% \end{figure}

\par Los candidatos serán cuatro. Todos ellos son multiplataforma, corren en cualquier servidor y se componen de código abierto. Todos, además, disponen de interfaz en idioma español e inglés (como mínimo), galería de fotos y sistema de control de versiones (más o menos completo). Todos funcionan alimentándose de una base de datos con API estándar.
\par Como particularidades reseñables, podemos decir que, en cuanto a servidor web, Plone y Drupal están muy bien integrados con Apache, mientras que Liferay Portal se integra con otros servidores más orientados a Java (Tomcat, Glassfish, etc.) y Moodle que se integra con cualquier plataforma que tenga soporte para PHP.

\paragraph{Liferay Portal (Community Edition)}
\includegraphics[width=3ex]{logolrp}
\par Esta herramienta no presenta inconvenientes importantes ahora que su código es libre \cite{references:liferaylicense}, pues antes no era así. Más a su favor, tiene una empresa como IBM detrás lo que supone que su código viene siendo mantenido y desarrollado por profesionales. Es una solución seria, empresarial y con una curva de aprendizaje media. Se usa en sitios como los de CISCO, Honda, T-Mobile, Harvard Bussiness School, China Mobile, etc.
La rumorología parece indicar que sería la solución que el Instituto Geográfico Nacional estaría adoptando para su gestión de contenidos hipertextuales, con lo que, de ser cierto, ganaría puntos como solución definitiva, dado que habría personal cualificado para mantener la aplicación si fuese necesario.
Además de todo lo anterior, posee soporte comercial consolidado y está bastante probado.
\par Todo lo anterior la convierte en una opción sólida a mi modo de ver.

\paragraph{Drupal}
\includegraphics[width=3ex]{logodrupal}
\par Se trata de una de las plataformas más populares y amigables para la gestión de contenidos.
Es usada para todo tipo de proyectos desde poco importantes hasta de envergadura media-alta. Sin embargo, no parece (por lo leído en algunos artículos) que sea la opción más potente.
No tiene, tampoco, carencias que señalar, destacando, eso sí, su carácter modular, necesitando así para algunas de las funcionalidades deseables de la instalación de módulos adicionales (gratuitos). Tiene una gran base de usuarios y está mantenido por la comunidad principalmente. Destaca, además, por su buena integración con plataformas móviles.
Es rápido, intuitivo y versátil. También una opción muy destacable

\paragraph{Moodle}
\includegraphics[width=3ex]{logom}
\par Este CMS está orientado más al e-learning aunque es cierto que cumple con prácticamente todas las funciones deseables.
Se trata de un software maduro y completo.
Está programado en PHP, al igual que el anterior.

\paragraph{Plone}
\includegraphics[width=3ex]{logoplone}
\par Probablemente este CMS sea el más innovador de los presentados. Muy potente, está programado en Python y construido encima del framework Zope, independientemente del servidor que vaya a correr por debajo (que en general será Apache).
Al igual que el resto, no presenta deficiencias importantes, si bien, como Drupal, está pensado de manera modular, con añadidos para según qué funciones.
Si hay que poner una pega (y no es trivial), es su curva de aprendizaje, dado que llena los huecos dejados por Drupal en cuanto a potencia pero también en cuanto a dificultad de uso haciéndolo una opción no recomendable para no-informáticos, quizá.

\subsection{Anexo a comparativa}
\par Como resultado de la comunicación con el cliente, se hace una rápida referencia a una plataforma como candidata a ser la destinataria de la migración del CMS de todo el Instituto Geográfico Nacional. Normalmente, todo lo relacionado con la gestión de contenidos y, en general, todo el software generado suele ser subcontratado a otras empresas, dejando los desarrollos propios o artesanales casi exclusiva y paradójicamente al personal especializado (astrónomos, físicos, etc.).
\par Debido a la variabilidad de plazos y la diferencia apreciable de alcance en los proyectos del IGN y de este proyecto respectivamente, al final se decidió abandonar la línea de Alfresco sobre Liferay Portal y se optó por Drupal, que reunía los requisitos adecuados y tiene una gran comunidad de usuarios y desarrolladores detrás.

\par Sin embargo, he creído conveniente adjuntar un anexo donde se indague un poco más sobre Alfresco y sus posibilidades (\ref{cha:apendicealfresco}.


\section{Drupal}

\par Como dije más arriba, Drupal será inicialmente la plataforma seleccionada para comenzar con la integración y desarrollo del sistema. Se trata de un sistema complejo, del que prefiero describir algunos fundamentos básicos que ayuden a entenderlo todo.

\par Existen multitud de recursos en Internet sobre Drupal, empezando por su sitio web principal \cite{references:drupalhome}, pero el recurso más útil que he encontrado es el libro editado por O'Reilly \cite{ByronBerryHaugEatonWalkerRobbins200812} y creado por el staff del sitio web Lullabot \cite{references:lullabot}. Aunque la versión traducida al español editada por Anaya \cite{ByronBerryHaugEatonWalkerRobbins200909} facilita el seguimiento general del libro, considero que en algunos aspectos es una traducción, cuanto menos, apresurada.

\subsection{Entorno de (pre)desarrollo}
\par Para la prueba inicial he utilizado un ``software appliance", es decir, una imagen de disco dispuesta a ser arrancada por una máquina virtual (en este caso VirtualBox) y empezar a funcionar. esto facilita mucho las cosas a la hora de realizar configuraciones rápidas y dinámicas dejando para más adelante (cuando tengamos una arquitectura definida) la integración y configuración de un servidor real.

La máquina elegida fue sacada de la web de TurnKey \cite{references:turnkey} en la que se pueden encontrar multitud de imágenes listas para hacer la función de servidor web con CMS nada más ser arrancadas. Suele tratarse de un montaje LAMP (Linux + Apache + MySQL + PHP) \cite{references:LAMP} En concreto se utilizó la que integraba la versión 6 de Drupal \cite{references:turnkeydrupal} con un entorno que se describe con los siguientes componentes básicos:

\begin{itemize}
\item TurnKey Core \cite{references:turnkeycore}, compuesto de:
	\begin{itemize}
	\item Ubuntu 8.04.3 LTS
	\item Auto-actualizable en el arranque
	\item Shell en AJAX incorporada (shellinabox\cite{references:shellinabox})
	\item Interfaz de administración web (Webmin\cite{references:webmin})
	\item Apache, MySQL y PHP.
	\end{itemize}
\item Soporte para SSH por defecto.
\item MTA integrado para el envío de correo local.
\item Módulos de Webmin para PHP, Apache2 y MySQL.
\item PHPMyAdmin como administrador de la base de datos.
\item Módulos más conocidos de Drupal (CCK, Views, Lightbox2, ImageCache, CKEditor, etc.).
\end{itemize}

\par En este caso, a la configuración inicial se le hicieron varias modificaciones, como instalar la distribución en español (que era uno de los requisitos) e instalar un módulo FTP en Webmin. Para la primera cosa hubo que borrar la instalación que venía por defecto con el ``appliance'' y volver a instalar Drupal en español descargándolo desde su página\cite{references:drupalhispano}. Para la segunda, sin embargo, salvo modificar ligeramente permisos en el servidor vía SSH, el propio Webmin es bastante intuitivo.

\subsection{\textit{Understanding Drupal} (Entender Drupal)}

\par Como en el libro original, una buena manera de comenzar nuestro periplo por este CMS es conocer sus fundamentos.
\par Se vio más arriba que Drupal es un CMS gratuito y de código abierto con una amplia comunidad de usuarios y colaboradores, lo que lo convierte en una plataforma bastante actualizada, potente y en contacto con las necesidades demandadas por la mayoría de usuarios.

\subsubsection{General}

\par En su concepción, Drupal no necesita un sistema operativo, servidor web o gestor de bases de datos concreto. Puede valer cualquiera capaz de correr una implementación de PHP y una base de datos compatible con SQL. Digamos que el ``alma'' de Drupal estaría contenida en la base de datos y se articularía gracias al ``core'' que hace uso del intérprete PHP. Además de los subsistemas que permiten el interpretado de temas gráficos, la gestión de sesiones de usuario y el filtrado para mantener la seguridad del sistema. Alrededor de este núcleo tendríamos los módulos (tanto incluidos por defecto como los que han sido asimilados gracias a la comunidad de desarrolladores) que extenderían la funcionalidad del sistema a lugares más específicos que van desde la creación de contenidos hasta la asistencia a tareas de administración pasando por todo tipo de funciones imaginables.
Los contenidos de Drupal se basan en un concepto simple pero efectivo: los nodos. Todos los contenidos son organizados en nodos que pueden ser accedidos independientemente. Serían, por así decirlo, las unidades mínimas de contenido en Drupal. Todos ellos, además de los temas, configuraciones y usuarios se almacenan en la base de datos. A la hora de servir las páginas, el motor de Drupal en PHP trasladará esa información de la base de datos, produciendo una salida en XHTML con CSS (al menos, predeterminadamente) gracias a la interpretación de las plantillas que acompañan a los temas gráficos.

\subsubsection{Módulos}

\par Los módulos, tanto los que se incluyen oficialmente junto al ``core", como los que son aportados y mantenidos por la comunidad desarrolladores, son los que aportan la funcionalidad más cercana al usuario. Articulan lo que de otra manera sería una simple plataforma de edición de páginas web con una base de datos como soporte fundamental.
En esencia, son archivos que contienen código php que proporciona un conjunto de funcionalidades y se integran en Drupal. Estas funcionalidades, salvo en las excepciones de módulos necesarios para el funcionamiento ``nuclear'' de Drupal, pueden ser activados o desactivados en cualquier momento, claro está, atendiendo a las interdependencias entre unos módulos y otros.
\par Prácticamente todas las funcionalidades, desde la gestión de usuarios y credenciales (módulo User) o los formularios de contacto con el responsable de la página (módulo Contact) hasta la creación de Galerías de imágenes o taxonomías para ordenar el contenido semánticamente, son aportadas por estos componentes.
La verdadera potencia de los módulos reside en la interconexión de los mismos y el ajuste minucioso de las numerosas opciones de configuración que aporta cada uno de ellos. Nunca podrá conseguirse un sistema a pleno rendimiento si las opciones se dejan por defecto (aunque esta generalidad aplica a todo sistema informático de cierto nivel). Esta potencia que se nos ofrece en un principio, puede, dado la gran cantidad de alternativas disponibles, sin embargo, convertirse en un dolor de cabeza para dar con el módulo adecuado a nuestras necesidades (dado que hay varios que pueden aportar similares funcionalidades).

\subsubsection{Usuarios}
\label{cha:usuarios}
\par Una de los cuerpos más importantes de un sistema informático es la gestión de usuarios. Su mayor baza es la de personalizar el entorno según las credenciales de la persona (o máquina) que accede. En el caso de Drupal, por defecto, encontramos un sistema de usuarios con multitud de opciones. Por defecto, se crea el ``User 1", que sería algo así como el usuario ``root'' en sistemas UNIX, es decir, un superusuario con derechos plenos sobre todo el sistema.
Si bien la clásica organización en usuarios podría ser una solución, en el caso de Drupal, se añade el concepto de ``rol. Un rol, siguiendo con la analogía de UNIX, sería algo similar a un grupo de usuarios. De esta manera, se permite separar el espacio individual posible de cada usuario (que en nuestro caso no tendría demasiada utilidad, salvo la meramente identificativa a la hora de hacer cambios y puede que la capacidad de tener entradas como borradores) de su asignación de permisos.
Los permisos son asignados a un rol determinado, y ese rol determinado puede ser asignado a varios usuarios, permitiendo, en todo caso, que todo usuario (incluso los anónimos) estén bajo control a la hora de decidir el acceso, creación, modificación y borrado de datos, así como los contenidos presentados en cada caso.

\subsubsection{Nodos}

\par Este punto podría decirse que es la piedra angular de Drupal. Si en un CMS lo importante son los contenidos, en Drupal, si queremos hablar de contenidos, tenemos que remitirnos a los nodos. Como dijimos anteriormente, los nodos son la unidad mínima de publicación de contenidos en Drupal. No es raro, al visitar un sitio al azar (dada la extendida implantación de Drupal en los sitios web) que topemos con urls que contengan, entre barras, la palabra ``node", aunque esto sea, según algunos gurús, algo a evitar por los desarrolladores, ya sea mediante alias que escondan esas urls o mediante plantillas que engloben los nodos como un componente más.
Y ahí radica una de las característica más poderosas de los nodos y es que pueden ser tomados como partes de estructuras más grandes, permitiendo cosas como que una foto, su título, y si se quiere, un comentario, puedan ser en sí mismas un nodo, y a su vez, este nodo, formar parte como referencia en otro nodo.
Todo esto aporta una fortaleza importante a la hora de indexar contenidos, proyectar búsquedas o presentar las entradas de diferentes maneras y atendiendo a unos y otros criterios, ya que todos los contenidos parten de una estructura común y son, hasta cierto punto, compatibles entre sí.

\par Los nodos, en su estructura más básica, están compuestos por:
\begin{itemize}
\item Autor
\item Fecha de creación
\item Título del nodo
\item Contenido principal
\end{itemize}

\par A partir de ahí pueden darse diferenciaciones o mutaciones que permitan distinguir entre distintos tipos de contenido. Como por ejemplo la diferencia existente entre Página (Page) y Artículo (Story), que prepara la página para ser un contenido esencialmente estático e informativo (incluso institucional) y el artículo para ser algo más dinámico, corriente y genérico. ``Page'' y ``Story'' son los dos medios básicos que son incluidos por defecto en Drupal, dejando Page para páginas tipo ``¿Quiénes somos?'' o ``Política de privacidad", que no requieren interactividad, ni cambios y que están preparadas para ocultar por defecto la fecha y el autor del contenido. Sin embargo, ``Story'' contaría con la intención (al menos en su creación) de formar parte de lo que llamaríamos la portada del sitio, como una ``noticia'' más o una ``novedad'' más, que tiene un contexto temporal y un autor más relevantes.

\par Combinando las dos funcionalidades pasadas podremos asignar las capacidades de los usuarios (a través de sus roles asignados) individualmente para cada tipo de contenido. Dejando, puede ser, un contenido institucional a un editor y un contenido más dinámico a un redactor (o cualquier otra combinación que se nos ocurra).

\subsubsection{Formas de organizar el contenido}

\par Dejando de lado la parte más semántica e íntegra del sistema, las cuestiones organizativas son las que afloran. En este caso, hay distintas aproximaciones posibles que nos permiten presentar y complementar los contenidos descritos más arriba.

\paragraph{Bloques}

\par Pasando a la parte más visible (la v dentro del modelo MVC) aunque con ramificaciones en las otras dos, nos encontramos con esta estructura. Los bloques constituyen las unidades más pequeñas para mostrar información. Digamos que son pequeños trozos de código que aportan una funcionalidad que se plasmará visiblemente en la pantalla. Cosas como el número de usuarios conectados, los últimos comentarios en entradas o los artículos más populares son los ejemplos más conocidos de este tipo de objetos, que seguro que son conocidas a la mayoría de usuarios medios por haber visto cosas similares en otros sitios de la red.

\par Se enmarcan en regiones distribuidas por la estructura gráfica de la página (como encabezado, pie, laterales o cuerpo principal). Serían, pues, los diferentes componentes que podríamos organizar (o quitar) de nuestra página para que mostrase la información que consideramos necesaria. Juegan un papel fundamental a la hora de trabajar con plantillas, que veremos en el apartado de Temas.


\paragraph{Menús}

\par No hay mucho que explicar sobre los menús en Drupal salvo que son, como casi todo, altamente personalizables. Serían colecciones de enlaces que normalmente están situados en regiones reconocibles de nuestro sitio web y nos permiten movernos por el sitio sin perdernos y sin dar muchos rodeos. Dependiendo de cómo están construidos pueden incluso darnos una idea de dónde estamos. Por defecto se crea un menú principal que se mostraría en todo momento y un secundario que se mostraría a partir de la opción seleccionada en el menú principal. Su uso, como desde hace mucho tiempo, es muy intuitivo.

\paragraph{Taxonomías}

\par Aunque hablaremos más adelante de esto, hay que reseñar que el módulo ``Taxonomy'' nos proporciona una funcionalidad que en nuestro caso vendrá a sustituir por ahora lo que en principio se iba a construir a base de ontologías y redes semánticas. Es una implementación muy simple pero en nuestro caso resulta que cumple con nuestras necesidades. Permitiría clasificar los contenidos (incluso haciendo distinciones entre distintos tipos de contenido) según clasificaciones que nosotros previamente hayamos creado, a las que el programa llamará ``vocabularios". Es decir, que en función de la clasificación (o clasificaciones, dado que se pueden aplicar varias a la vez) que le otorguemos a un contenido en concreto, podrá ser posteriormente relacionado en una jerarquía que ordenará los contenidos por su área semántica. Por inmediatez del ejemplo, podremos catalogar los instrumentos de nuestro museo por área de conocimiento a la que pertenecen (astronomía, geofísica, geodesia, ...) y a la vez enmarcarlos en una época temporal, por los materiales de su construcción (pudiendo estar a la vez en varios grupos) o por cualquier otra escala que se nos ocurra.
\par Esta funcionalidad, combinada con la anterior de los menús, puede ser muy interesante a la hora de ayudar al usuario a navegar con sentido por el sistema.

\paragraph{CCK (Content Construction Kit)}
\par Si uno de los puntos fuertes de Drupal es la definición de tipos de contenido a través del concepto de ``nodo'', el Kit de construcción de contenido (CCK) nos permite estructurar semántica y lógicamente cada uno de los apartados de nuestro tipo de contenido. En definitiva, proporciona una herramienta para especificar campos concretos (con su definición de tipo de datos) que contengan datos definidos, como en el caso de un registro, que contiene campos. En este caso, podremos elegir el nombre de la variable o campo, el tipo de datos que contendrá y, en su caso, qué interfaz (o widget) se le presentará al usuario a la hora de tener que rellenar ese campo. Es un módulo tan esencial que a partir de la versión 7 de Drupal forma parte del núcleo de la plataforma. Digamos que es un paso más hacia la ingeniería de software más clásica.

\paragraph{Views}
\par El módulo anterior se complementa a la perfección con otro módulo más: se trata de Views, y como su propio nombre indica, su cometido es asistir a la hora de la creación de vistas personalizadas. Aludiendo estas a muy diversos parámetros que regulan desde quién verá cada vista, pasando por los campos que se mostrarán de cada nodo, parámetros disponibles para realizar búsquedas o la manera que tendremos de mostrar el contenido al usuario.
\par Se trata de un módulo muy potente y, para hacerse una idea, recoge cierto paralelismo con las ``vistas'' de una base de datos SQL. De hecho, se puede, incluso, proporcionar código SQL que defina (con la potencia que eso implica) en detalle la consulta que queremos hacer a la hora de ejecutar una vista.

\subsubsection{Temas}
\par Los temas son la cara visible de Drupal hacia el usuario, son un conjunto de ficheros CSS, HTML/PHP e imágenes que permiten dar forma a la salida por defecto del contenido. Sería lo correspondiente a la capa de visualización o a la parte de vista en el modelo MVC. La noción de ``tema'' se supone conocida en este ámbito. Brevemente, el paso de una url a html supondría dar los pasos de:
\begin{enumerate}
\item El módulo Node recibe la petición (http://www.dominio.com/node/2)
\item Node extrae el contenido del nodo y llama al módulo Theme
\item Theme, a través del motor del tema, estructura el contenido de la salida
\item Se le aplica el aspecto gráfico del tema utilizado en ese momento.
\end{enumerate}

\par Sin embargo, se podría ilustrar la estructura usada por Drupal a través de un pequeño esquema con el que vemos en la figura~\ref{fig:drupalthemes}
\begin{figure}
\centering
\includegraphics{drupalthemes}
\caption{Estructura básica de Temas en Drupal\cite{references:drupalthemes}}
\label{fig:drupalthemes}
\end{figure}


\paragraph{Archivos .info}
\par Este tipo de archivos, ubicados normalmente en la carpeta ``themes'', define, obligatoriamente, metadatos del tema en concreto como su nombre, descripción, versiones de Drupal con las que es compatible y el motor de temas que usa. Igualmente, puede incluir la definición de regiones en las que dividiremos nuestro tema, los ficheros CSS y/o JavaScript que lo acompañarán o las funcionalidades que el administrador podrá utilizar en el panel de administración de temas.

\paragraph{Regiones}
\par Se trata de las divisiones del espacio gráfico que definirá nuestro tema y en las que se pueden ubicar los bloques. Las definidas por defecto en Drupal son:
\begin{itemize}
\item Header (encabezamiento)
\item Footer (pie de página)
\item Left Sidebar (barra lateral izquierda)
\item Right Sidebar (barra lateral derecha)
\item Content (sección central dedicada al contenido)
\end{itemize}

\par Por supuesto, como todo en Drupal, podemos definir las nuestras propias. Eso sí, en el momento en que creemos nuestro propio fichero .info y definamos una sola región, las regiones por defecto no serán tenidas en cuenta si no se refieren explícitamente.

\paragraph{Características}
\par Se trata de todas esas opciones que podrán ser administradas desde el panel de administración de Drupal. Entre ellas encontramos, por defecto, las siguientes:

\begin{itemize}
\item Logotipo (logo)
\item Nombre del sitio (name)
\item Lema (o eslogan) del sitio (slogan)
\item Declaración de intenciones (mission)
\item Avatar de usuario en entradas (node\_user\_picture)
\item Avatar de usuario en comentarios (comment\_user\_picture)
\item Cuadro de búsqueda (search)
\item Icono de marcadores (favicon)
\item Enlaces primarios del menú (primary\_links)
\item Enlaces secundarios del menú (secondary\_links)
\end{itemize}

\par De la misma manera que ocurría con las regiones, las características también son personalizables aquí.

\paragraph{CSS y JavaScript}
\par Como en las otras ocasiones, existen algunas rutas por defecto para incluir nuestro código CSS y JavaScript en nuestro proyecto, pero además podemos redefinir y añadir las referencias de nuestros ficheros adicionales.

\paragraph{Archivos de plantilla}
\par Aquí es donde reside la mayoría de la maquetación real de las páginas. Estos archivos, con abundancia de código HTML y algunas sentencias PHP desvelan la estructura que presentarán a la salida cada uno de los elementos de contenido. La extensión de los archivos es del tipo <elemento>.tpl.php, como por ejemplo page.tpl.php o node.tpl.php. Dentro de ellos, las sentencias de php interrogan a la base de datos para saber si se han completado las regiones correspondientes para rellenarlas de contenido y darles una forma.

\paragraph{template.php}
\par Esta sería la piedra angular de todo programador, ya que se utiliza para añadir lógica y variables a la aplicación y para redefinir funciones que son llamadas por los archivos de plantilla. Se trata, casi exclusivamente, de código php por lo que deberían ser editados por programadores o diseñadores con conocimientos de este lenguaje.




\section{Conclusiones y trabajo futuro}
\par Las conclusiones en este trabajo son muy variadas y pueden verse desde distintas perspectivas. 

\subsection{Logros alcanzados}
\par Básicamente, la consecución de este proyecto ha conseguido preparar la creación de una plataforma de gestión de contenidos con el objetivo de ampliar y enriquecer la experiencia de la visita a un museo. Dado que no se trata de un museo al uso si no de una exposición de instrumentos de una rama muy específica del conocimiento (muy atractiva al público general pero poco conocida entre la gente) que requiere, salvo en contadísimas excepciones, de la explicación pertinente por parte de un guía.
\par La consecución de este museo virtual soluciona la obligatoriedad de la presencia de ese guía y de ese usuario en el mismo espacio y tiempo permitiendo ese acercamiento de manera más útil para todos.
\par Con este proyecto, además, se pretende obtener una base de conocimiento que permita disponer del mismo y trabajar con él de manera que en un futuro esté accesible para otros proyectos como la edición de contenido en papel a partir de lo alojado en la base de datos.
\par Además, permite una cierta interacción con el usuario, incluyéndole, aunque sea de en la esfera más privada y con pequeñas parcelas de participación en la experiencia de formación que quizá no todo el mundo pueda experimentar al visitar el museo por diversas razones.
\par En el plano más técnico, se ha conseguido realizar una comparativa adecuada a las necesidades del cliente de los distintos CMS (y algunos wikis) disponibles en el mercado, poniendo de manifiesto que se trata de una parcela de la informática con muchísima actividad e interés tanto comercial como de utilidad.
\par Como último y evidente punto podemos concluir que se han sentado las bases para adaptar con éxito una plataforma de código abierto como es Drupal a unas necesidades concretas que eran demandadas por una nueva perspectiva en el cliente.

\subsection{Conocimientos adquiridos}
\subsubsection{Generalidades}
Personalmente, este proyecto me ha dado la oportunidad de comprobar y entender un poco más lo compleja (aunque no imposible, como se podría creer) que resulta la ingeniería del software y, en general, la ingeniería informática. Compleja no sólo en lo imbricado que pude llegar a ser un sistema de información, si no más bien en, como para casi todo, la parte más impredecible y más variable: el cliente. En mi caso el cliente no es tal ya que más que cliente es ``empleador'' a través de una beca. He comprobado (al igual que cualquiera que lo lea lo hará) lo que cambia un proyecto desde sus fases más tempranas hasta su ejecución. He visto la cantidad de disciplina (yo diría que más que en otros trabajos aunque menos, quizá, que en otras ingenierías) que requiere un proyecto de este tipo. En parte por la impredecibilidad de ciertos acontecimientos que modifican el rumbo y el cometido del proyecto y que alargan los plazos a través del descarte y posterior recomienzo desde cero si los términos no han sido los esperados.
\par Son muchas partes a tener en cuenta que, ya no tan sorprendentemente (pues nos lo habían avisado con insistencia), tienen no demasiado que ver con la parte más técnica de un programa informático. Como por ejemplo, la fase de evaluación (en mi caso) de soluciones preliminares. Imagino que sería difícil para un analista no ingeniero tratar de evaluar innumerables plataformas con la intención de elegir alguna, pero, desde luego, no es la más grata de las labores que se me ocurre podría desempeñar un ingeniero.
\par Una de esas partes, como decía al comienzo, es el cliente. Creo que la parte más importante de un proyecto (hasta donde yo he experimentado) es la comunicación con el cliente. Ya no sólo en el proceso de, más o menos pasivamente, recolectar requisitos y ayudar a traducir esas ideas a un metalenguaje no tan ambiguo como el humano. Incluso, me atrevería a decir, en los proyectos de investigación en los que la figura del cliente está más desdibujada, una buena manera de entenderse a uno mismo (o a un equipo) en sus objetivos es seguir el mismo proceso que tomaríamos para ``diagnosticar'' a un supuesto cliente.

\subsubsection{Particularidades}
\par Este proyecto, como supongo que lo harán todos, presenta un carácter y un contexto propios. Se trata de un proyecto enmarcado dentro de una beca de formación para un objetivo no crítico y en un entorno especial como es la rama de la investigación científica que va desde la ciencia de base (como la astronomía y la geofísica) a la más cercana a las ingenierías, que sería la instrumentación, que es en lo que han confluido buena parte de los esfuerzos de la institución del Real Observatorio de Madrid. Dentro del Instituto Geográfico Nacional, que, como ya he dicho en otras ocasiones, depende directamente del Ministerio de Fomento, se encuentran diversas ramas. El ROM se inscribe dentro de la Subdirección General de Astronomía, Geodesia y Geofísica, que gestiona otros observatorios astronómicos como el OAN con su sede en Yebes (Guadalajara), el de Pico Veleta (Granada) o el del Roque de los Muchachos (Canarias). Sin embargo, lo expuesto en el museo recorre todos los ámbitos más o menos diferenciados que cuelgan del IGN: Astronomía, Geodesia, Geofísica, Geomagnetismo, Sismología, Vulcanología, Cartografía y, además, una breve sección de instrumentos de una rama que ya no forma parte del IGN, que es la Meteorología. Esto lo cuento para dar una idea de la transversal del proyecto y de la cantidad de gente en cuanto a la creación de contenidos, además de poner de manifiesto la ausencia de personal especializado en Informática (salvo, de refilón, el caso de algunos Ingenieros de Telecomunicaciones que hábilmente han trabajado en construir los sistemas de control y telecontrol de instrumentos como radiotelescopios, gravímetros superconductores y demás tecnología punta). Lo que implica esta marcada ausencia es quizá una falta de rumbo claro a la hora de optar por unas u otras soluciones.
\par Por otro lado, como ya hemos comentado está la ausencia de una criticidad clara del proyecto. Es decir, que no está en la agenda más inmediata de la mayoría de participantes. Todo esto, unido a la ya clásica lentitud de los procesos que dependen de las administraciones públicas (no sólo en materia de adjudicación de fondos o contratación de personal) acentúan mucho más lo que comentaba en las generalidades a propósito de la variabilidad de un proyecto y de la complejidad del trato con el factor humano en el cliente.

\par Por otra parte, se trata de un proyecto que me presenta de bruces con el público dado que la consecuencia de mi trabajo estará disponible al público y deberá dar una respuesta fiable (dentro de unos márgenes temporales y de actuación) a trabajadores expertos en su campo. Sin duda es un proyecto ilusionante.

\subsubsection{Modificaciones}
\par Como en todo proyecto, como ya dije, pocas cosas permanecen invariables cuando pasa el tiempo. En mi caso, lo más invariable del mismo quizá ha sido el espíritu de iniciativa que, sin quizá una definición cristalina, ha conseguido hacerse un hueco y prosperar poco a poco. Dicho de otra manera: un proyecto que comenzó ambicioso en proyección no ha cesado en esa proyección aunque haya tenido que ajustar los resultados más a corto plazo. Esto quiere decir que, si bien no formarán parte de este trabajo de fin de carrera, surgirán unos cuantos proyectos que terminen (o no) de definir y construir las potenciales utilidades del inicial.
\par En general, creo que la aproximación más como técnico que como ingeniero hace que inicialmente podamos cometer este tipo de errores, que sin derrumbar el pragmatismo que es el objetivo, tratan de hacer ``virguerías''. Supongo que ese es un campo destinado a la investigación y no a la aplicación de tecnologías a problemas concretos.

\paragraph{Web Semántica}
\par En el plano de las convicciones más íntimas, he tenido que ``recular'' en propuestas, algunas por iniciativa propia y otras por exigencias del proyecto. Una de ellas pasaba por la inclusión intensiva de tecnologías de Web Semántica que permitieran catalogar los contenidos del museo con ``mayor'' eficacia y modularidad. Tras continuar mi formación (de varias asignaturas) con otro curso más en estos temas he observado varias cosas:
\begin{enumerate}
 \item Que se trata de una tecnología que por ahora está, digamos, no muy madura. Ni por la globalidad de Internet, ni por sus bases teóricas (que no acaban de cuajar en todos los agentes) y no sé sabe si seguirá adelante, pues para resolver un problema muy grande (la extracción de conocimiento útil a partir de cantidades ingentes de datos) ha implementado soluciones casi tan complicadas de resolver: principalmente las ontologías (estandarización, compartición, herencia, etc.), la utilidad de los agentes y ¿por qué no? la duda sobre si realmente un agente es un concepto útil para organizar operaciones (aunque es cierto que han corrido mejor suerte que las primeras).
Dejo de lado la parte de más éxito como los buscadores que, de forma poco matemática, han utilizado algoritmos de ``detección'' de conocimiento en vez de esa catalogación ontológica que se proponía, echando un poco más de peso en las espaldas de los grandes defensores del ``etiquetado'' y catalogación minuciosa de la información.
  \item Que supondría una carga de trabajo demasiado exigente para los resultados que obtendría.
  \item Que no aportaría gran cosa que otras tecnologías sin más esfuerzos ya obtienen (no hay que reinventar la rueda).
\end{enumerate}

\paragraph{Uso de estándares}
\par Esta en realidad no es un renuncia, si no que, en aras de la utilidad de sus componentes, se han relajados ciertos aspectos de la ``afición'' por XML. Como el lector ya habrá adivinado, esto tiene mucho que ver con la parte de Web Semántica, dado que la mayoría de tecnologías implicadas (RDF, RDFS, OWL) son estándares de la familia XML. Es en esa parte en la que más se ha renunciado, dejando la parte XML más universal (XHTML, XSLT) para la presentación final. Drupal, en general, cumple con estos estándares siendo XHTML utilizado para mostrar el contenido al cliente y espero poder utilizar XSLT para la transformación en PDF de los documentos contenidos en la plataforma.
\par Sin embargo, y como reflexión, creo que ha cambiado mi manera de percibir la importancia del uso de estándares. Como en otras ocasiones (y de eso trata mucho de este proyecto) se trata de evaluación. Los estándares son útiles en la medida que nos ayudan a proporcionar un servicio o una ventaja a nuestros sistemas. Seguir un estándar como hecho en sí mismo a perseguir no tiene mucho sentido.

\paragraph{Wikis}
\par La otra gran modificación que ha sufrido este proyecto (que incluso está entre las palabras clave del resumen) es el descartar, al menos por ahora, la posibilidad de utilizar un wiki en exclusiva para una plataforma tan importante como ésta. Como digo, no se trata de una decisión arbitraria, si no de una decisión necesaria para asegurar la integridad y coherencia de los datos de carácter oficial.
\par Pese a todo, y si se atiende con atención el proyecto, la apertura a nuevas modificaciones por parte de personal cualificado sigue siendo una verdad, con lo que, mínimamente, se persigue la estela de la filosofía del wiki conservando el tinte colaborativo del asunto.

\subsection{Tiempo empleado}
\par Este proyecto se ha venido realizando desde su primera reunión a principios de mayo hasta principios de diciembre con intermitencias, retrasos y demás contingencias que han hecho que el tiempo no fuese aprovechado con el máximo rendimiento. 
\par Compartiendo el tiempo con otros proyectos englobados dentro de la beca convocada, la jornada es de unas siete horas y media durante 5 días a la semana, contando con las vacaciones de verano entre medias, con lo que el esfuerzo real dedicado al proyecto disminuye respecto de la jornada total.
\par La parte más extensa fue la de reuniones con diferentes profesionales y responsables, las revisiones de estos requisitos, la elaboración de propuestas y la evaluación de estas propuestas por parte del cliente, siendo parte importante de todo esto el tiempo empleado en dilucidar cuál sería la plataforma más adecuada para este trabajo.
\par La parte de desarrollo todavía continúa por haber, como ya he explicado a lo largo del documento, discrepancias internas sobre la estructura que deberían seguir algunos aspectos del diseño.

\subsection{Líneas futuras de trabajo}
\par Aunque creo que lo he repetido varias veces a lo largo de este documento, voy a tratar de exponerlo aquí resumidamente.
\par Este proyecto, como evaluación, elección y análisis está terminado, quedando a falta de detalles menores de implementación que dependerán como ya he explicado de la solución que se tome en cuanto a hardware. Además, el trabajo puramente de diseño, sería la parte más variable y más propensa a cambios y/u optimizaciones. Esa es una de las razones por las que se presentan un número tan bajo de capturas de pantalla en este documento y no se entrega un ejecutable de la misma (la otra sería que el contenido no está todavía incluido).

\par Siguiendo en la dirección del hardware, las posteriores fases pasan por la adquisición de terminales móviles y terminales fijos en sala, así como los componentes que definan la infraestructura de red necesaria para que cumplan su cometido.
\par De la parte del software habría que ultimar los detalles de plantillas para móviles y las medidas de seguridad necesarias en la implantación de los sistemas.

\par Como última idea y a futuro, quedaría la integración de cursos de ``eLearning'', la integración con la tienda del museo y la consolidación de la base de datos respecto a los estándares de la administración pública.
\par En definitiva, quedando fuera del cometido de este proyecto, hay unas cuantas actividades con las que proseguiré de aquí en adelante para completar la aplicación. Las mismas serán incorporadas a medida que la maquinaria de toma de decisiones y financiación actúen en consecuencia.
